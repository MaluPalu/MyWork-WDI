webpackJsonp([0],{1429:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={getComponent:function(e,t){o.e(0).then(function(e){t(null,o(1809).default)}.bind(null,o)).catch(o.oe)}}},1444:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1445);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1445:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(){return a.default.createElement("div",{className:d.default.container},a.default.createElement("a",{href:"/"},a.default.createElement(u.default,{type:"logo",className:d.default.logo})),a.default.createElement("p",{className:d.default.text},"Make something awesome"))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=o(1),a=n(i),l=o(18),u=n(l),s=o(1446),d=n(s)},1446:function(e,t){e.exports={colorGrey:"#999","--sm":"(--sm)","--md-min":"(--md-min)",container:"_2WMKE",logo:"_1Ig-9",text:"_1cQDt"}},1447:function(e,t,o){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.reportPhotoImpressions=void 0;var u=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=o(1),d=r(s),c=o(5),f=o(1482),p=r(f),h=o(2),y=o(12),m=n(y),v=.5;t.reportPhotoImpressions=function(e){var t={photo:s.PropTypes.object.isRequired,position:s.PropTypes.number.isRequired,reportPhotoImpression:s.PropTypes.func.isRequired},o=function(t){function o(){return i(this,o),a(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return l(o,t),u(o,[{key:"reportImpression",value:function(e){if(e){var t=this.props,o=t.photo,n=t.position;(0,t.reportPhotoImpression)({photo:{id:o.id,position:n}})}}},{key:"render",value:function(){var t=d.default.createElement(e,Object.assign({},this.props));return h.isBrowser&&(0,h.checkSupportsIntersectionObservers)()?d.default.createElement(p.default,{onChange:this.reportImpression.bind(this),threshold:v},t):t}}]),o}(s.Component);o.displayName="WrappedReportPhotoImpressionsComponent",o.propTypes=t;var n={reportPhotoImpression:m.reportPhotoImpression};return(0,c.connect)(null,n)(o)}},1448:function(e,t){e.exports={floatLeft:"_3YIV2",floatRight:"tPMQE","--sm-min":"(--sm-min)",colorLightGrey:"#ddd",container:"y5w1y",photo:"cV68d",photoInfo:"hduMF",leftActions:"_31wG7 _3YIV2",rightActions:"_287Ma tPMQE",user:"_114MZ",collectionButtonContainer:"_1XDiz",userLink:"_3isoq",userImageContainer:"_8p1N4 _3YIV2",userAvatar:"_1fYZF",userName:"_1imKo _3YIV2",userTopLink:"_1f9xN"}},1454:function(e,t,o){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.FeedContainer=void 0;var u=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=o(1),d=r(s),c=o(5),f=o(12),p=n(f),h=o(1456),y=r(h),m={setContentWidth:s.PropTypes.func.isRequired,children:s.PropTypes.element.isRequired},v=t.FeedContainer=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),u(t,[{key:"componentDidMount",value:function(){this.setContentWidth(),window.addEventListener("resize",this.handleResize.bind(this))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize.bind(this))}},{key:"setContentWidth",value:function(){var e=this.props.setContentWidth;this.elem&&e(this.elem.offsetWidth-24)}},{key:"handleResize",value:function(){this.setContentWidth()}},{key:"render",value:function(){var e=this,t=this.props.children;return d.default.createElement("div",{className:y.default.container,ref:function(t){e.elem=t}},t)}}]),t}(s.Component);v.propTypes=m;var b={setContentWidth:p.setContentWidth};t.default=(0,c.connect)(null,b)(v)},1455:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1454);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1456:function(e,t){e.exports={container:"Nqw-T _22ZDn dvlCB"}},1457:function(e,t,o){"use strict";function n(e){var t=e.downloadButtonXp,o=e.inFollowingFeed;return[l.VARIANTS.showArrow,l.VARIANTS.showBottomBar].includes(t)&&!o}function r(e){var t=s.safeLocalStorageHelpers.hasItem(u.HAS_DOWNLOADED_A_PHOTO),o=e.downloadButtonXp===l.VARIANTS.showArrow;return n(e)&&o&&!t}function i(e){var t=e.downloadButtonXp,o=e.inFollowingFeed;return t===l.VARIANTS.showWord&&!o}Object.defineProperty(t,"__esModule",{value:!0}),t.ActionsModes=t.ActionsStates=void 0,t.checkShouldShowDownloadButton=n,t.checkShouldShowTooltip=r,t.checkShouldShowLabel=i;var a=o(141),l=o(482),u=o(186),s=o(2);t.ActionsStates=(0,a.Enum)({All:"All",AddToCollectionButton:"AddToCollectionButton",AddToCollectionButtonAndPhotographerInfo:"AddToCollectionButtonAndPhotographerInfo",DownloadButton:"DownloadButton"}),t.ActionsModes=(0,a.Enum)({All:"All",CollectionsOnboarding:"CollectionsOnboarding"})},1458:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.FeedNav=void 0;var r=o(1),i=n(r),a=o(1462),l=n(a),u=o(1465),s=n(u),d={fallbackToGridChanger:r.PropTypes.bool,location:r.PropTypes.object.isRequired,isHome:r.PropTypes.bool,leftChild:r.PropTypes.element,rightChild:r.PropTypes.element},c={fallbackToGridChanger:!0,isHome:!1},f=t.FeedNav=function(e){var t=e.location,o=e.fallbackToGridChanger,n=e.leftChild,r=e.rightChild,a=e.isHome,u=!o||void 0!==r&&null!==r?r:i.default.createElement(l.default,{location:t,isHome:a});return i.default.createElement("div",{className:s.default.container},i.default.createElement("div",{className:s.default.clearfix},n&&i.default.createElement("span",{className:s.default.firstFloatLeft},n),u&&i.default.createElement("span",{className:s.default.lastFloatRight},u)))};f.displayName="FeedNav",f.propTypes=d,f.defaultProps=c,t.default=f},1459:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1458);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1460:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.handleToggleClick=void 0;var r=o(491),i=n(r),a=o(490);t.handleToggleClick=function(e,t,o,n){i.default.set(a.GRID,e),o(e),n(e)}},1461:function(e,t,o){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}Object.defineProperty(t,"__esModule",{value:!0}),t.GridChanger=void 0;var a=o(1),l=r(a),u=o(5),s=o(3),d=r(s),c=o(12),f=n(c),p=o(184),h=o(493),y=o(18),m=r(y),v=o(1460),b=o(1466),_=r(b),P={preferredGrid:a.PropTypes.oneOf([h.SINGLE,h.MULTI]).isRequired,setPreferredGrid:a.PropTypes.func.isRequired,trackGridSwitch:a.PropTypes.func.isRequired},g=[{type:h.SINGLE,icon:"grid-single"},{type:h.MULTI,icon:"grid-multi"}],T=t.GridChanger=function(e){var t=e.preferredGrid,o=e.setPreferredGrid,n=e.trackGridSwitch;return l.default.createElement("div",{className:_.default.gridSelector},g.map(function(e){return l.default.createElement("button",{key:e.type,className:(0,d.default)(_.default.gridButton,i({},_.default.activeGridLink,t===e.type)),onClick:function(){return(0,v.handleToggleClick)(e.type,t,o,n)}},l.default.createElement(m.default,{className:_.default.gridIcon,type:e.icon}))}))};T.displayName="GridChanger",T.propTypes=P;var w=function(e){return{preferredGrid:(0,p.getPreferredGrid)(e)}},O={setPreferredGrid:f.setPreferredGrid,trackGridSwitch:f.trackGridSwitch};t.default=(0,u.connect)(w,O)(T)},1462:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1461);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1463:function(e,t,o){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SmallPhoto=void 0;var u=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=o(1),d=r(s),c=o(5),f=o(3),p=r(f),h=o(24),y=r(h),m=o(140),v=r(m),b=o(12),_=n(b),P=o(2),g=o(285),T=o(66),w=o(137),O=o(482),E=o(185),j=r(E),M=o(486),k=r(M),C=o(485),S=r(C),A=o(484),R=r(A),F=o(1467),B=r(F),I=o(1457),N={children:s.PropTypes.node,photo:s.PropTypes.object.isRequired,followingFeedClassName:s.PropTypes.string,containerClassName:s.PropTypes.string,photoRef:s.PropTypes.func,width:s.PropTypes.number,height:s.PropTypes.number,imageUrl:s.PropTypes.string,location:s.PropTypes.object.isRequired,linkTo:s.PropTypes.oneOfType([s.PropTypes.object,s.PropTypes.string]),showPhotoInfoOnHover:s.PropTypes.bool,downloadButtonXp:s.PropTypes.oneOf(Object.keys(O.VARIANTS)).isRequired,fillWidth:s.PropTypes.bool,jsLoaded:s.PropTypes.bool.isRequired,windowWidth:s.PropTypes.number,setSelectedPhoto:s.PropTypes.func.isRequired,actionsMode:s.PropTypes.oneOf([I.ActionsModes.All,I.ActionsModes.CollectionsOnboarding]).isRequired,shouldIncludeLink:s.PropTypes.bool.isRequired,inFollowingFeed:s.PropTypes.bool},x={inFollowingFeed:!1,shouldIncludeLink:!0,actionsMode:I.ActionsModes.All},L=t.SmallPhoto=function(e){function t(e){i(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.handleMouseMove=o.handleMouseMove.bind(o),o.handleMouseLeave=o.handleMouseLeave.bind(o),o.state={isHovering:!1},o}return l(t,e),u(t,[{key:"getActionsState",value:function(){var e=this.state.isHovering,t=this.props,o=t.actionsMode,n=t.jsLoaded,r=t.downloadButtonXp,i=t.inFollowingFeed,a=(0,I.checkShouldShowDownloadButton)({downloadButtonXp:r,inFollowingFeed:i});switch(o){case I.ActionsModes.CollectionsOnboarding:return e||!n?I.ActionsStates.AddToCollectionButtonAndPhotographerInfo:I.ActionsStates.AddToCollectionButton;case I.ActionsModes.All:return e||!n?I.ActionsStates.All:a&&!e?I.ActionsStates.DownloadButton:void 0}}},{key:"handleMouseMove",value:function(){this.setState({isHovering:!0})}},{key:"handleMouseLeave",value:function(){this.setState({isHovering:!1})}},{key:"renderPhotoInfo",value:function(){var e=this,t=this.props,o=t.photo,n=t.linkTo,r=t.location,i=t.setSelectedPhoto,a=t.windowWidth,l=t.shouldIncludeLink,u=!(0,P.checkIsPhone)(a);return d.default.createElement("div",{className:(0,p.default)(B.default.photoInfo,void 0!==this.getActionsState()&&B.default.photoInfoIsShown),onMouseMove:u&&this.handleMouseMove,onMouseLeave:u&&this.handleMouseLeave},l&&d.default.createElement(y.default,{to:n||(0,P.buildPhotoLink)(o,r,a),className:B.default.photoInfoLink,onClick:function(){return i({id:o.id,ref:e.linkElem})}}),this.renderActions())}},{key:"renderLikeButton",value:function(){var e=this.props,t=e.location,o=e.photo;return d.default.createElement(k.default,{type:"alt",location:t,photo:o})}},{key:"renderAddToCollectionButton",value:function(){var e=this.props,t=e.location,o=e.photo;return d.default.createElement("div",{className:B.default.addToCollectionButtonContainer},d.default.createElement(R.default,{className:B.default.collectionButton,type:"alt",photo:o,location:t}))}},{key:"renderDownloadButton",value:function(){var e=this.props,t=e.photo,o=e.downloadButtonXp,n=e.inFollowingFeed,r=(0,I.checkShouldShowTooltip)({downloadButtonXp:o,inFollowingFeed:n}),i=(0,I.checkShouldShowLabel)({downloadButtonXp:o,inFollowingFeed:n});return d.default.createElement("div",{className:B.default.buttonDownloadContainer},d.default.createElement(S.default,{type:"alt",photo:t,showLabel:i,showTooltip:r}))}},{key:"renderUserLink",value:function(){var e=this.props.photo.user;return d.default.createElement("div",{className:B.default.userContainer},d.default.createElement(j.default,{includeAvatar:!0,user:e,type:"alt"}))}},{key:"renderTopActions",value:function(){switch(this.getActionsState()){case I.ActionsStates.AddToCollectionButton:case I.ActionsStates.AddToCollectionButtonAndPhotographerInfo:return d.default.createElement("div",{className:B.default.actionsTop},this.renderAddToCollectionButton());case I.ActionsStates.All:return d.default.createElement("div",{className:B.default.actionsTop},this.renderLikeButton(),this.renderAddToCollectionButton());case I.ActionsStates.DownloadButton:case void 0:return}}},{key:"renderBottomActions",value:function(){switch(this.getActionsState()){case I.ActionsStates.All:return d.default.createElement("div",{className:B.default.actionsBottom},this.renderUserLink(),this.renderDownloadButton());case I.ActionsStates.AddToCollectionButtonAndPhotographerInfo:return d.default.createElement("div",{className:B.default.actionsBottom},this.renderUserLink());case I.ActionsStates.DownloadButton:return d.default.createElement("div",{className:B.default.actionsBottom},this.renderDownloadButton());case I.ActionsStates.AddToCollectionButton:case void 0:return}}},{key:"renderActions",value:function(){return void 0!==this.getActionsState()?d.default.createElement("div",null,this.renderTopActions(),this.renderBottomActions()):null}},{key:"renderImage",value:function(){var e=this,t=this.props,o=t.photo,n=t.photoRef,r=t.linkTo,i=t.width,a=t.height,l=t.imageUrl,u=t.location,s=t.windowWidth,c=t.fillWidth,f=t.children,h=t.followingFeedClassName,m=t.inFollowingFeed,b={backgroundImage:(0,P.urlToBackgroundImage)(l),backgroundColor:o.color,backgroundSize:"cover",width:c?"100%":i,height:a};return d.default.createElement(y.default,{ref:function(t){(0,v.default)(n)&&n(t),e.linkElem=t},to:r||(0,P.buildPhotoLink)(o,u,s),title:"View the photo By "+o.user.name,className:m&&(0,p.default)(B.default.photo,h),style:m?b:{}},!m&&d.default.createElement("img",{alt:o.description||null,src:l,className:B.default.imgPhoto,style:{width:c?"100%":i,height:a}}),f)}},{key:"render",value:function(){var e=this.props,t=e.containerClassName,o=e.showPhotoInfoOnHover;return d.default.createElement("div",{className:(0,p.default)(B.default.container,t)},this.renderImage(),o&&this.renderPhotoInfo())}}]),t}(s.Component);L.displayName="SmallPhoto",L.propTypes=N,L.defaultProps=x;var D=function(e){return{jsLoaded:(0,g.getJsLoaded)(e),windowWidth:(0,T.getWindowWidth)(e),downloadButtonXp:(0,w.getDownloadButtonXp)(e)}},G={setSelectedPhoto:_.setSelectedPhoto};t.default=(0,c.connect)(D,G)(L)},1464:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1463);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1465:function(e,t){e.exports={clearfix:"_1-7wz _1VOuf","--xs-max":"(--xs-max)",floatLeft:"_3YIV2",floatRight:"tPMQE",container:"_2sKzG _22ZDn dvlCB",firstFloatLeft:"_2d9fA _3YIV2",lastFloatRight:"_3lOS2 tPMQE"}},1466:function(e,t){e.exports={"--xs-max":"(--xs-max)",colorLightBlack:"#111",colorGrey:"#999",textDecorationNone:"_21rCr",gridSelector:"LJo2j",gridButton:"_2OLVr _21rCr",activeGridLink:"_1qJx4",gridIcon:"_32SMR"}},1467:function(e,t){e.exports={floatLeft:"_3YIV2",floatRight:"tPMQE","--sm-min":"(--sm-min)",colorPink:"#f15151",colorLightGrey:"#ddd",hoverTransition:"_2tPAp",container:"_3vgBX",photo:"_1hz5D",imgPhoto:"KW7g_ _1hz5D",photoInfo:"bQJ8Z",photoInfoIsShown:"_2j4gG",photoInfoLink:"_23lr1",actionsTop:"_2yfpM",actionsBottom:"_1a5YS",userContainer:"CpQi5 _3YIV2",buttonDownloadContainer:"_3i-Ef tPMQE",addToCollectionButtonContainer:"_3W6mQ"}},1468:function(e,t,o){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(1),u=o(19);o(187),o(189),o(284),o(188),o(488),o(190),o(139);var s=o(2),d={children:l.PropTypes.element.isRequired,handleFetch:l.PropTypes.func.isRequired,handleFetchArgs:l.PropTypes.shape({nextPage:l.PropTypes.oneOfType([l.PropTypes.string,l.PropTypes.number]),perPage:l.PropTypes.number,orderBy:l.PropTypes.string}).isRequired,handleFetchResponse:l.PropTypes.func.isRequired,handleFetchError:l.PropTypes.func.isRequired,isDoneFetching:l.PropTypes.bool.isRequired,shouldResetFeedContents:l.PropTypes.bool},c=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"componentDidMount",value:function(){this.addScrollSubscription()}},{key:"componentWillUpdate",value:function(e){var t=this,o=this.props,n=o.handleFetch,r=o.handleFetchError,i=o.handleFetchResponse,a=e.shouldResetFeedContents,l=e.handleFetchArgs;if(a){this.removeScrollSubscription();n(l.nextPage,l.perPage,l.orderBy).then(function(e){t.addScrollSubscription(),i(e)}).catch(r)}}},{key:"componentWillUnmount",value:function(){this.removeScrollSubscription()}},{key:"addScrollSubscription",value:function(){var e=this,t=u.Observable.fromEvent(window,"scroll").filter(function(){return(0,s.shouldFetchMoreContent)()}).map(function(){return e.props.handleFetchArgs.nextPage}).distinct();this.scrollSubscription=t.subscribe(this.invokeSuppliedFetchMethod.bind(this))}},{key:"removeScrollSubscription",value:function(){this.scrollSubscription.unsubscribe(),this.fetchSubscription&&this.fetchSubscription.unsubscribe()}},{key:"invokeSuppliedFetchMethod",value:function(){var e=this.props,t=e.handleFetch,o=e.handleFetchArgs,n=e.handleFetchResponse,r=e.handleFetchError,i=e.isDoneFetching;if(t&&!i){var a=o.nextPage,l=o.perPage,s=o.orderBy,d=u.Observable.defer(function(){return t(a,l,s)}).retry(3).take(1);this.fetchSubscription=d.subscribe(n,r)}}},{key:"render",value:function(){return this.props.children}}]),t}(l.Component);c.displayName="FeedScrollHandler",c.propTypes=d,t.default=c},1469:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1468);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1470:function(e,t,o){"use strict";function n(e){var t=r.safeLocalStorageHelpers.hasItem(i.HAS_DOWNLOADED_A_PHOTO);return e===a.VARIANTS.showBottomBar&&!t}Object.defineProperty(t,"__esModule",{value:!0}),t.TEST_ATTRIBUTE=void 0,t.checkShouldShowDownloadBottomBar=n;var r=o(2),i=o(186),a=o(482);t.TEST_ATTRIBUTE="photos-grid-view"},1471:function(e,t,o){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(){return{totalHeight:arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,photos:arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]}}function s(e){var t=0,o=e[0];return e.forEach(function(e,n){e.totalHeight<o.totalHeight&&(t=n,o=e)}),t}function d(e){return Array.from({length:e}).map(function(){return u()})}Object.defineProperty(t,"__esModule",{value:!0}),t.Masonry=void 0;var c=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),f=o(1),p=r(f),h=o(5),y=o(3),m=r(y),v=o(12),b=n(v),_=o(66),P=o(137),g=o(482),T=o(2),w=o(1474),O=r(w),E=o(1470),j=o(1479),M=r(j),k={photos:f.PropTypes.array.isRequired,location:f.PropTypes.object.isRequired,smallPhotoProps:f.PropTypes.object,windowWidth:f.PropTypes.number,downloadButtonXp:f.PropTypes.oneOf(Object.keys(g.VARIANTS)).isRequired,showDownloadBottomBar:f.PropTypes.func.isRequired,hideDownloadBottomBar:f.PropTypes.func.isRequired},C=t.Masonry=function(e){function t(e){i(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.state={gridCount:(0,T.isPhoneOrTablet)(e.windowWidth)?2:3},o.renderGrid=o.renderGrid.bind(o),o}return l(t,e),c(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.downloadButtonXp,o=e.showDownloadBottomBar;(0,E.checkShouldShowDownloadBottomBar)(t)&&o()}},{key:"componentWillUpdate",value:function(e){var t=this.props.windowWidth;e.windowWidth!==t&&((0,T.isPhoneOrTablet)(e.windowWidth)?this.setState({gridCount:2}):this.setState({gridCount:3}))}},{key:"componentWillUnmount",value:function(){this.props.hideDownloadBottomBar()}},{key:"getGridData",value:function(e){var t=this.props.photos,o=d(e);return t.forEach(function(e){var t=o[s(o)];e.height&&e.width&&(t.totalHeight+=e.height/e.width,t.photos.push(e))}),o.map(function(e){return e.photos})}},{key:"renderGrid",value:function(e,t){var o=this.props,n=o.location,r=o.photos,i=o.smallPhotoProps,a=this.state.gridCount;return p.default.createElement("div",{key:t,ref:"MasonryGrid"+t,className:(0,m.default)(M.default.Grid,3===a&&M.default.GridThree,2===a&&M.default.GridTwo,1===a&&M.default.GridOne)},e.map(function(e,t){var o=r.indexOf(e);return p.default.createElement(O.default,{smallPhotoProps:i,gridCount:a,photo:e,position:o,key:t,location:n})}))}},{key:"render",value:function(){var e=this.state.gridCount,t=this.getGridData(e).map(this.renderGrid);return p.default.createElement("div",{id:"gridMulti",className:M.default.container,"data-test":E.TEST_ATTRIBUTE},t)}}]),t}(f.Component);C.displayName="Masonry",C.propTypes=k;var S=function(e){return{windowWidth:(0,_.getWindowWidth)(e),downloadButtonXp:(0,P.getDownloadButtonXp)(e)}},A={showDownloadBottomBar:b.showDownloadBottomBar,hideDownloadBottomBar:b.hideDownloadBottomBar};t.default=(0,h.connect)(S,A)(C)},1472:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TEST_ATTRIBUTE="photo-component"},1473:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1),i=n(r),a=o(5),l=o(53),u=o(487),s=o(30),d=o(1464),c=n(d),f=o(1447),p=o(1472),h=o(1480),y=n(h),m={location:r.PropTypes.object.isRequired,smallPhotoProps:r.PropTypes.object,contentWidth:r.PropTypes.number,pixelRatio:r.PropTypes.number.isRequired,photo:r.PropTypes.object.isRequired,gridCount:r.PropTypes.number.isRequired},v=function(e){var t=e.smallPhotoProps,o=e.gridCount,n=e.location,r=e.contentWidth,a=e.pixelRatio,l=e.photo,u=16,d=Math.ceil(r/o-2*u),f=(0,s.getImageSizeAndImgixUrl)({photo:l,isMasonry:!0,parentWidth:d,pixelRatio:a}),h=f.imageUrl,m=f.imageWidth,v=f.imageHeight;return i.default.createElement("div",{className:y.default.photoContainer,"data-test":p.TEST_ATTRIBUTE},i.default.createElement(c.default,Object.assign({fillWidth:!0,showPhotoInfoOnHover:!0,width:m,height:v,imageUrl:h,photo:l,location:n},t)))};v.displayName="MasonryPhoto",v.propTypes=m;var b=function(e){return{contentWidth:(0,u.getContentWidth)(e),pixelRatio:(0,l.getPixelRatio)(e)}};t.default=(0,f.reportPhotoImpressions)((0,a.connect)(b)(v))},1474:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1473);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1475:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1471);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1479:function(e,t){e.exports={floatLeft:"_3YIV2","--sm-min":"(--sm-min)",clearfix:"_1VOuf",container:"_3_WtK _1VOuf",Grid:"_1OvAL _3YIV2",GridThree:"_27nWV",GridTwo:"_1eGVY",GridOne:"_3nHtz"}},1480:function(e,t){e.exports={photoContainer:"_1pn7R"}},1482:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var o={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n]);return o}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=o(1),d=(n(s),o(142)),c=n(d),f=o(1483),p=function(e){return"function"==typeof e},h=function(e){function t(){var e,o,n,r;i(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return o=n=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n.state={inView:!1},n.node=null,n.handleNode=function(e){n.node&&(0,f.unobserve)(n.node),e&&(0,f.observe)(e,n.handleChange,n.props.threshold),n.node=e},n.handleChange=function(e){return n.setState({inView:e})},r=o,a(n,r)}return l(t,e),u(t,[{key:"componentWillUpdate",value:function(e,t){this.props.onChange&&t.inView!==this.state.inView&&(this.props.onChange(t.inView),t.inView&&e.unobserve)}},{key:"componentDidUpdate",value:function(e,t){t.inView!==this.state.inView&&this.state.inView&&this.props.triggerOnce&&((0,f.unobserve)(this.node),this.node=null)}},{key:"componentWillUnmount",value:function(){this.node&&((0,f.unobserve)(this.node),this.node=null)}},{key:"render",value:function(){var e=this.props,t=e.children,o=e.render,n=e.tag,i=(e.triggerOnce,e.threshold,r(e,["children","render","tag","triggerOnce","threshold"])),a=this.state.inView;return(0,s.createElement)(n,Object.assign({},i,{ref:this.handleNode}),a&&p(o)?o():null,p(t)?t(a):t)}}]),t}(s.Component);h.propTypes={tag:c.default.node,children:c.default.oneOfType([c.default.func,c.default.node]),triggerOnce:c.default.bool,threshold:c.default.number,onChange:c.default.func,render:c.default.func},h.defaultProps={tag:"div",threshold:0,triggerOnce:!1},t.default=h},1483:function(e,t,o){"use strict";function n(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(e&&t){var n=l.get(o);n||(n=new IntersectionObserver(i,{threshold:o}),l.set(o,n)),a.set(e,{callback:t,visible:!1,threshold:o}),n.observe(e)}}function r(e){if(e){var t=a.get(e);if(t){a.delete(e);var o=l.get(t.threshold);o&&o.unobserve(e);var n=!1;a.forEach(function(e){e.threshold===t.threshold&&(n=!0)}),o&&!n&&(o.disconnect(),l.delete(t.threshold))}}}function i(e){e.forEach(function(e){if(a.has(e.target)){var t=e.isIntersecting,o=e.intersectionRatio,n=e.target,r=a.get(n),i=r.callback,l=r.visible,u=r.threshold,s=l?o>u:o>=u;void 0!==t&&(s=s&&t),a.set(n,{callback:i,visible:s,threshold:u}),i&&i(s)}})}Object.defineProperty(t,"__esModule",{value:!0}),t.observe=n,t.unobserve=r;var a=new Map,l=new Map;t.default={observe:n,unobserve:r}},1485:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TEST_ATTRIBUTE="photo-component"},1486:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Photo=void 0;var l=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(1),s=n(u),d=o(185),c=n(d),f=o(486),p=n(f),h=o(484),y=n(h),m=o(485),v=n(m),b=o(1488),_=n(b),P=o(1448),g=n(P),T=o(1485),w={location:u.PropTypes.object.isRequired,photo:u.PropTypes.object.isRequired,position:u.PropTypes.number.isRequired},O=t.Photo=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"renderLikeButton",value:function(){var e=this.props,t=e.location,o=e.photo;return s.default.createElement(p.default,{photo:o,location:t})}},{key:"renderAddToCollectionButton",value:function(){var e=this.props,t=e.location,o=e.photo;return s.default.createElement("div",{className:g.default.collectionButtonContainer},s.default.createElement(y.default,{photo:o,location:t}))}},{key:"renderleftActions",value:function(){return s.default.createElement("div",{className:g.default.leftActions},this.renderLikeButton(),this.renderAddToCollectionButton())}},{key:"renderRightActions",value:function(){var e=this.props.photo;return s.default.createElement("div",{className:g.default.rightActions},s.default.createElement(v.default,{photo:e,showLabel:!0}))}},{key:"renderUser",value:function(){var e=this.props.photo.user;return s.default.createElement("div",{className:g.default.user},s.default.createElement(c.default,{includeAvatar:!0,user:e}))}},{key:"renderPhotoInfo",value:function(){return s.default.createElement("div",{className:g.default.photoInfo},this.renderleftActions(),this.renderUser(),this.renderRightActions())}},{key:"renderTopUserLink",value:function(){var e=this.props.photo.user;return s.default.createElement("div",{className:g.default.userTopLink},s.default.createElement(c.default,{includeAvatar:!0,user:e}))}},{key:"render",value:function(){var e=this.props,t=e.location,o=e.photo,n=e.position;return s.default.createElement("div",{className:g.default.container,"data-test":T.TEST_ATTRIBUTE},this.renderTopUserLink(),s.default.createElement(_.default,{location:t,position:n,photo:o}),this.renderPhotoInfo())}}]),t}(u.Component);O.displayName="Photo",O.propTypes=w,t.default=O},1487:function(e,t,o){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoImage=void 0;var u=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=o(1),d=r(s),c=o(24),f=r(c),p=o(5),h=o(12),y=n(h),m=o(53),v=o(487),b=o(66),_=o(2),P=o(30),g=o(1447),T=o(1448),w=r(T),O={location:s.PropTypes.object.isRequired,photo:s.PropTypes.object.isRequired,windowWidth:s.PropTypes.number,contentWidth:s.PropTypes.number,pixelRatio:s.PropTypes.number.isRequired,setSelectedPhoto:s.PropTypes.func.isRequired},E=t.PhotoImage=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),u(t,[{key:"render",value:function(){var e=this,t=this.props,o=t.photo,n=t.photo.user,r=t.pixelRatio,i=t.location,a=t.setSelectedPhoto,l=t.windowWidth,u=t.contentWidth,s=(0,_.checkIsPhone)(l)?l:u,c=(0,P.getImageSizeAndImgixUrl)({photo:o,parentWidth:s,pixelRatio:r}),p=c.imageUrl,h=c.imageWidth,y=c.imageHeight;return d.default.createElement(f.default,{ref:function(t){e.elem=t},href:(0,_.nodeUrl)()+"/photos/"+o.id,to:(0,_.buildPhotoLink)(o,i,l),title:"View the photo By "+n.name,onClick:function(){return a({id:o.id,ref:e.elem})}},d.default.createElement("img",{alt:o.description||null,src:p,className:w.default.photo,style:{width:h,height:y}}))}}]),t}(s.Component);E.displayName="PhotoImage",E.propTypes=O;var j=function(e){return{pixelRatio:(0,m.getPixelRatio)(e),windowWidth:(0,b.getWindowWidth)(e),contentWidth:(0,v.getContentWidth)(e)}},M={setSelectedPhoto:y.setSelectedPhoto};t.default=(0,g.reportPhotoImpressions)((0,p.connect)(j,M)(E))},1488:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1487);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1489:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1486);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1490:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TEST_ATTRIBUTE="photos-list-view"},1491:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1),i=n(r),a=o(1489),l=n(a),u=o(1493),s=n(u),d=o(1490),c={location:r.PropTypes.object.isRequired,photos:r.PropTypes.array},f=function(e){var t=e.location,o=e.photos;return i.default.createElement("div",{id:"gridSingle",className:s.default.container,"data-test":d.TEST_ATTRIBUTE},o.map(function(e,o){return i.default.createElement(l.default,{key:e.id,photo:e,position:o,location:t})}))};f.displayName="PhotosListView",f.propTypes=c,t.default=f},1492:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1491);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1493:function(e,t){e.exports={"--xs-max":"(--xs-max)",container:"_1I8cs"}},1494:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Feed=void 0;var r=o(1),i=n(r),a=o(5),l=o(66),u=o(184),s=o(30),d=o(1475),c=n(d),f=o(1492),p=n(f),h=o(1455),y=n(h),m={photos:r.PropTypes.arrayOf(r.PropTypes.object).isRequired,location:r.PropTypes.object.isRequired,preferredGrid:r.PropTypes.string,isPhone:r.PropTypes.bool,feedFooter:r.PropTypes.element},v=t.Feed=function(e){var t=e.feedFooter,o=e.isPhone,n=e.preferredGrid,r=e.location,a=e.photos,l=(0,s.isMasonryLayout)(n)&&!o;return i.default.createElement(y.default,null,i.default.createElement("div",null,l?i.default.createElement(c.default,{photos:a,location:r}):i.default.createElement(p.default,{photos:a,location:r}),t))};v.displayName="Feed",v.propTypes=m;var b=function(e){return{preferredGrid:(0,u.getPreferredGrid)(e),isPhone:(0,l.getIsPhone)(e)}};t.default=(0,a.connect)(b)(v)},1495:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1494);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1496:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=o(1),a=n(i),l=o(30),u=o(1498),s=n(u),d={preferredGrid:i.PropTypes.string.isRequired},c={single:2,multi:9},f=function(e){var t=e.preferredGrid,o=(0,l.isMasonryLayout)(t),n=[].concat(r(Array(c[t]).keys()));return a.default.createElement("div",{className:s.default.container},n.map(function(e,t){return a.default.createElement("div",{key:t,className:o?s.default.thirdContainer:s.default.singleContainer},a.default.createElement("div",{className:o?s.default.third:s.default.single}),!o&&a.default.createElement("div",{className:s.default.photoInfo},a.default.createElement("div",{className:s.default.leftActions},a.default.createElement("div",{className:s.default.likeButtonPlaceholder}),a.default.createElement("div",{className:s.default.addToCollectionButtonPlaceholder})),a.default.createElement("div",{className:s.default.user},a.default.createElement("div",{className:s.default.userPlaceholder})),a.default.createElement("div",{className:s.default.rightActions},a.default.createElement("div",{className:s.default.downloadButtonPlaceholder}))))}))};f.displayName="FeedPlaceholder",f.propTypes=d,t.default=f},1497:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1496);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1498:function(e,t){e.exports={clearfix:"_1iK9o",container:"_1IQJa _1iK9o _22ZDn dvlCB","sm-col":"_13jTO","sm-col-12":"CTQC5","sm-col-6":"_3kobr","md-col-4":"_2axTb",px2:"_1vc38",floatLeft:"_3YIV2",floatRight:"tPMQE","--sm-min":"(--sm-min)",colorLightGrey:"#ddd",singleContainer:"_3Eie_ _13jTO CTQC5 _1vc38",thirdContainer:"_1ulF9 _13jTO _3kobr _2axTb _1vc38",single:"_80hLe",third:"_1YEV-",placeholderAnimation:"_6bXJE",photoInfo:"_2UiKr",leftActions:"OJ6Md _3YIV2",user:"_2dxDA",rightActions:"Z8ES6 tPMQE",userPlaceholder:"_3WZQi",likeButtonPlaceholder:"_2b_eh",addToCollectionButtonPlaceholder:"_3WdH3",downloadButtonPlaceholder:"_2oX-1"}},1604:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(){return a.default.createElement("h2",{className:d.default.subHeader},"Beautiful, free photos.",a.default.createElement("br",null),"Gifted by the world’s most generous community of photographers. 🎁")}Object.defineProperty(t,"__esModule",{value:!0}),t.FeedHeader=void 0;var i=o(1),a=n(i),l=o(1606),u=n(l),s=o(1620),d=n(s),c=t.FeedHeader=function(){return a.default.createElement("div",{className:d.default.container},a.default.createElement("h1",{className:d.default.title},"Unsplash"),a.default.createElement("div",null,r(),a.default.createElement(u.default,null)))};c.displayName="FeedHeader",t.default=c},1605:function(e,t,o){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=o(1),a=r(i),l=o(5),u=o(137),s=o(66),d=o(28),c=o(2),f=o(293),p=n(f),h=o(31),y=r(h),m=o(1621),v=r(m),b=function(e){var t=e.isPhone,o=e.shouldEnableCollectionsOnboarding,n=e.isLoggedIn;return o&&n?a.default.createElement("div",null,a.default.createElement(y.default,{tag:"link",className:v.default.cta,to:p.step1AbsolutePath,buttonType:"outline",rel:"nofollow"},"Create a free collection")):t||!t&&!n?a.default.createElement("div",null,a.default.createElement(y.default,{tag:"a",className:v.default.cta,href:(0,c.railsUrl)()+"/submit",buttonType:"outline",rel:"nofollow"},"Submit a photo")):null};b.displayName="Buttons";var _=function(e){return{isPhone:(0,s.getIsPhone)(e),isLoggedIn:(0,d.getIsLoggedIn)(e),shouldEnableCollectionsOnboarding:(0,u.getShouldEnableCollectionsOnboarding)(e)}};t.default=(0,l.connect)(_)(b)},1606:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1605);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1607:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1604);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1608:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1),i=n(r),a=o(143),l=o(5),u=o(28),s=o(184),d=o(504),c=n(d),f=o(1622),p=n(f),h={},y=function(e){var t=e.isLoggedIn,o=e.newFeedHasUnseenPhotos,n=function(e){var t=e.label,o=e.pathname,n=e.shouldShowNotificationDot,r=void 0!==n&&n;return i.default.createElement(a.IndexLink,{to:{pathname:o},className:p.default.pageLink,activeClassName:p.default.activePageLink},t,r&&i.default.createElement(c.default,{isVisible:!0}))};return i.default.createElement("div",null,n({label:"Trending",pathname:"/"}),n({label:"New",pathname:"/new",shouldShowNotificationDot:o}),t&&n({label:"Following",pathname:"/following"}))};y.displayName="HomeFeedTypeNav",y.propTypes=h;var m=function(e){return{isLoggedIn:(0,u.getIsLoggedIn)(e),newFeedHasUnseenPhotos:(0,s.getFeedHasUnseenPhotos)(e)}};t.default=(0,l.connect)(m)(y)},1609:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1608);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1620:function(e,t){e.exports={container:"_258j4 _22ZDn dvlCB","--sm-min":"(--sm-min)",fontWeightNormal:"UDEGo",headingL:"_2lCRJ",title:"_2JV9L _2lCRJ",subHeader:"_1gaeU UDEGo"}},1621:function(e,t){e.exports={cta:"_3PnJy"}},1622:function(e,t){e.exports={"--sm-min":"(--sm-min)",colorLightBlack:"#111",textDecorationNone:"_21rCr",pageLink:"_3hAQy _21rCr",activePageLink:"_3_FPZ"}},1699:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.NonSortableFeed=void 0;var l=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(1),s=n(u),d=o(5),c=o(489),f=o(184),p=o(283),h=n(p),y=o(1497),m=n(y),v=o(1495),b=n(v),_=o(1469),P=n(_),g={photos:u.PropTypes.arrayOf(u.PropTypes.object).isRequired,showPlaceholder:u.PropTypes.bool,handleFetch:u.PropTypes.func.isRequired,handleFetchResponse:u.PropTypes.func.isRequired,nextPage:u.PropTypes.string,endContent:u.PropTypes.element,location:u.PropTypes.object.isRequired,preferredGrid:u.PropTypes.string.isRequired},T={handleFetch:null,showPlaceholder:!1},w={router:u.PropTypes.object.isRequired},O=t.NonSortableFeed=function(e){function t(e){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.state={},o.handleFetchError=o.handleFetchError.bind(o),o}return a(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({shouldResetFeedContents:e.preferredGrid!==this.props.preferredGrid})}},{key:"handleFetchError",value:function(e){var t=this.context.router.replace;(0,c.handleClientSideError)(t,{ravenTags:{component:"NonSortableFeed"}})(e)}},{key:"render",value:function(){var e=this.props,t=e.showPlaceholder,o=e.photos,n=e.preferredGrid,r=e.nextPage,i=e.handleFetch,a=e.handleFetchResponse,l=e.location,u=e.endContent;if(t)return s.default.createElement(m.default,{preferredGrid:n});var d=!r;return s.default.createElement(P.default,{handleFetch:i,handleFetchArgs:{nextPage:r},handleFetchResponse:a,handleFetchError:this.handleFetchError,isDoneFetching:d,shouldResetFeedContents:this.state.shouldResetFeedContents},s.default.createElement(b.default,{photos:o,location:l,feedFooter:d?u:s.default.createElement(h.default,null)}))}}]),t}(u.Component);O.displayName="NonSortableFeed",O.propTypes=g,O.defaultProps=T,O.contextTypes=w;var E=function(e){return{preferredGrid:(0,f.getPreferredGrid)(e)}};t.default=(0,d.connect)(E)(O)},1700:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1699);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1720:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1),i=n(r),a='\n  <script type="application/ld+json">\n    {\n      "@context": "http://schema.org",\n      "@type": "WebSite",\n      "name": "Unsplash",\n      "url": "https://unsplash.com/",\n      "potentialAction": {\n        "@type": "SearchAction",\n        "target": "https://unsplash.com/search/photos/{search_term_string}",\n        "query-input": "required name=search_term_string"\n      }\n    }\n  <\/script>\n'.trim(),l=function(){return i.default.createElement("div",{dangerouslySetInnerHTML:{__html:a}})};l.displayName="WebSiteSchema",t.default=l},1721:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1720);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1806:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TEST_ATTRIBUTE="home-route"},1807:function(e,t,o){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(){return function(e){return P.default.custom.listHomeFeedPhotos(e).then(_.toJson).then(_.throwErrorsIfPresent).then(L)}}Object.defineProperty(t,"__esModule",{value:!0}),t.Home=void 0;var s=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),d=o(1),c=r(d),f=o(5),p=o(138),h=r(p),y=o(2),m=o(489),v=o(93),b=o(67),_=o(26),P=r(_),g=o(12),T=n(g),w=o(533),O=o(1700),E=r(O),j=o(1607),M=r(j),k=o(1459),C=r(k),S=o(1444),A=r(S),R=o(1721),F=r(R),B=o(1609),I=r(B),N=o(1808),x=o(1806),L=(0,b.normalizeResponse)("homeFeed"),D={photos:d.PropTypes.arrayOf(d.PropTypes.object),location:d.PropTypes.object.isRequired,homeFeed:d.PropTypes.object.isRequired,updateData:d.PropTypes.func.isRequired,resetHomeFeed:d.PropTypes.func.isRequired,addPhotosToHomeFeed:d.PropTypes.func.isRequired},G={router:d.PropTypes.object.isRequired},W=t.Home=function(e){function t(e){i(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.handleFetchResponse=o.handleFetchResponse.bind(o),o}return l(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this.context.router.replace,t=this.props,o=t.updateData,n=t.resetHomeFeed;P.default.custom.listHomeFeedPhotos().then(_.toJson).then(_.throwErrorsIfPresent).then(L).then(function(e){var t=e.entities,r=e.result;o(t),n({photoIds:r.photos,nextPage:r.next_page})}).catch((0,m.handleClientSideError)(e))}},{key:"handleFetchResponse",value:function(e){var t=e.entities,o=e.result,n=this.props,r=n.updateData,i=n.addPhotosToHomeFeed,a=n.location;(0,y.trackPageView)(a),r(t),i({photoIds:o.photos,nextPage:o.next_page})}},{key:"render",value:function(){var e=this.props,t=e.photos,o=e.homeFeed,n=e.location,r=(0,N.buildHomeHeadTags)(t),i=r.title,a=r.description,l=r.meta,s=r.canonicalUrl,d=0===t.length&&!o.maxPage,f=c.default.createElement(I.default,null);return c.default.createElement("div",{"data-test":x.TEST_ATTRIBUTE},c.default.createElement(h.default,{title:i,description:a,meta:l,link:(0,v.buildLinks)(s)}),c.default.createElement(F.default,null),c.default.createElement(M.default,null),c.default.createElement(C.default,{leftChild:f,location:n,isHome:!0}),c.default.createElement(E.default,{showPlaceholder:d,photos:t,handleFetch:u(),handleFetchResponse:this.handleFetchResponse,location:n,nextPage:o.nextPage}),c.default.createElement(A.default,null))}}]),t}(d.Component);W.displayName="Home",W.propTypes=D,W.contextTypes=G;var q=function(e){return{photos:(0,w.getDenormalizedHomeFeedPhotos)(e),homeFeed:(0,w.getHomeFeed)(e)}},H={updateData:T.updateData,resetHomeFeed:T.resetHomeFeed,addPhotosToHomeFeed:T.addPhotosToHomeFeed};t.default=(0,f.connect)(q,H)(W)},1808:function(e,t,o){"use strict";function n(e){return{title:i,description:a,canonicalUrl:l,meta:(0,r.buildFeedMetas)(e[0],i,a,l)}}Object.defineProperty(t,"__esModule",{value:!0}),t.buildHomeHeadTags=n;var r=o(93),i="Unsplash | Beautiful Free Photo Community",a="Do-whatever-you-want free HD photos. Gifted by the world's most generous community of photographers.",l="https://unsplash.com"},1809:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1807);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})}});
//# sourceMappingURL=0.2590e.main.js.map